// index.tsx
import React from "react";
import { createRoot } from "react-dom/client";
import App from "./App";

const rootElement = document.getElementById("root");

window.addEventListener("error", (e) => {
  console.error("Window error:", e.error || e.message);
  document.body.innerHTML = `<pre style="color:red;font-size:16px;">Error: ${e.message}</pre>`;
});

window.addEventListener("unhandledrejection", (e) => {
  console.error("Promise rejection:", e.reason);
  document.body.innerHTML = `<pre style="color:orange;font-size:16px;">Promise Rejection: ${e.reason}</pre>`;
});

if (rootElement) {
  const root = createRoot(rootElement);
  root.render(
    <React.StrictMode>
      <App />
    </React.StrictMode>
  );
} else {
  document.body.innerHTML = `<h1 style="color:red;">‚ùå Root div not found!</h1>`;
}
